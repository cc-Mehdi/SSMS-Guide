![SSMS-Banner](https://github.com/cc-Mehdi/SSMS-Guide/assets/57840939/2b6c2f56-6148-44fe-84bd-24acc8b9022b)


# راهنمای SSMS


#### نرم افزار SSMS (SQL Server Management Studio) :

یک ابزار قدرتمند و جامع است که توسط مایکروسافت برای مدیریت پایگاه داده های Microsoft SQL Server توسعه یافته است. این راهنما یک نمای کلی از ویژگی‌ها و عملکردهای کلیدی SSMS را ارائه می‌کند که هدف آن کمک به مدیران پایگاه داده، توسعه‌دهندگان و تحلیلگران در کار مؤثر با پایگاه‌های داده SQL Server است.

این راهنما زمینه های اصلی زیر را پوشش می دهد:


1. **نصب و راه اندازی:** راهنما با دستورالعمل های گام به گام در مورد نحوه دانلود، نصب و پیکربندی SSMS در رایانه شما شروع می شود. الزامات سیستم را تشریح می کند و راهنمایی برای اتصال به نمونه های SQL Server ارائه می دهد.
   
2. **نمای کلی رابط:** رابط کاربری SSMS شامل Object Explorer، Query Editor، Solution Explorer و پنجره های ابزار مختلف مورد بررسی قرار می گیرد. کاربران یاد می گیرند که چگونه با رابط آن کار کنند و رابط کاربری آن را درک کنند.

3. **اتصال به پایگاه های داده:** راهنما نحوه اتصال به نمونه های محلی و راه دور SQL Server را توضیح می دهد. این روش‌های مختلف احراز هویت، مانند احراز هویت ویندوز و احراز هویت SQL Server، و نحوه ذخیره تنظیمات اتصال برای راحتی را پوشش می‌دهد.

4. **مدیریت پایگاه داده:** کاربران با وظایف مربوط به مدیریت پایگاه داده مانند ایجاد، اصلاح و حذف پایگاه داده ها، جداول، نماها و سایر اشیاء پایگاه داده آشنا می شوند. آنها یاد می گیرند که چگونه از Object Explorer برای مرور و دستکاری طرح های پایگاه داده استفاده کنند.

5. **کوئری و اسکریپت نویسی:** ویرایشگر کوئری جزء مرکزی SSMS برای نوشتن و اجرای کوئری های SQL است. راهنما نحوه نوشتن و اجرای کوئری ها، استفاده از قطعه کد و تولید اسکریپت برای اشیاء پایگاه داده را نشان می دهد.

6. **بهینه سازی کوئری:** این راهنما بینش هایی را در مورد تکنیک های بهینه سازی عملکرد کوئری ارائه می دهد، از جمله تجزیه و تحلیل طرح های اجرای کوئری، استراتژی های نمایه سازی، و استفاده از ابزارهای تنظیم عملکرد داخلی.

7.**پشتیبان گیری و بازیابی:** کاربران یاد می گیرند که چگونه با استفاده از SSMS پشتیبان گیری و بازیابی پایگاه داده را انجام دهند. این شامل ایجاد فایل‌های پشتیبان، زمان‌بندی پشتیبان‌گیری و بازیابی پایگاه‌های داده از پشتیبان‌گیری می‌شود.

8.**مدیریت امنیت:** راهنما مدیریت کاربر و مجوزها را پوشش می‌دهد و نحوه ایجاد لاگین، اختصاص نقش‌ها و اعطای مجوز به کاربران و گروه‌ها را نشان می‌دهد.

9.**تعمیر و نگهداری و نظارت:** کاربران با ابزارها و ویژگی های نظارت بر سلامت پایگاه داده، شناسایی تنگناها و عیب یابی مشکلات آشنا می شوند. وظایفی مانند بررسی یکپارچگی پایگاه داده، مدیریت مشاغل و نظارت بر فعالیت ها پوشش داده شده است.

10.**یکپارچه سازی با کنترل منبع:** راهنما به نحوه ادغام SSMS با سیستم های کنترل نسخه مانند Git اشاره می کند و به توسعه دهندگان اجازه می دهد تغییرات در طرح و اشیاء پایگاه داده را ردیابی کنند.

11.**برنامه های افزودنی و سفارشی سازی:** SSMS از برنامه های افزودنی و سفارشی سازی برای افزایش عملکرد پشتیبانی می کند. به کاربران نشان داده می شود که چگونه برنامه های افزودنی را نصب کنند و SSMS را مطابق با نیازهای خاص خود تنظیم کنند.

12.**نکات و ترفندها:** راهنما با مجموعه ای از نکات و میانبرها برای بهبود بهره وری و کارایی در حین استفاده از SSMS به پایان می رسد. 

### با پیروی از این راهنما، کاربران می توانند در استفاده از SQL Server Management Studio برای مدیریت مؤثر، توسعه و بهینه سازی پایگاه داده های SQL Server مهارت کسب کنند و وظایف مربوط به پایگاه داده خود را کارآمدتر و ساده تر کنند.


## جدول محتوا
* [نصب و راه اندازی](#نصب-و-راه-اندازی)
* [نمای کلی رابط](#نمای-کلی-رابط)
* [اتصال به پایگاه های داده](#اتصال-به-پایگاه-های-داده)
* [مدیریت پایگاه داده](#مدیریت-پایگاه-داده)
* [کوئری و اسکریپت نویسی](#کوئری-و-اسکریپت-نویسی)
* [بهینه سازی کوئری](#بهینه-سازی-کوئری)
* [پشتیبان گیری و بازیابی](#پشتیبان-گیری-و-بازیابی)
* [مدیریت امنیت](#مدیریت-امنیت)
* [تعمیر و نگهداری و نظارت](#تعمیر-و-نگهداری-و-نظارت)
* [یکپارچه سازی با کنترل منبع](#یکپارچه-سازی-با-کنترل-منبع)
* [برنامه های افزودنی و سفارشی سازی](#برنامه-های-افزودنی-و-سفارشی-سازی)
* [نکات و ترفندها](#نکات-و-ترفندها)


## نصب و راه اندازی

[-آموزش کامل نصب (یوتیوب)](https://www.youtube.com/watch?v=ZxSWKEgTjKc)

[-آموزش کامل نصب (آپارات)](https://www.aparat.com/v/ck8sX)

**--ورژنی که ما برای این مثال استفاده میکنیم SSMS 2019 Developer Edition است--**

برای نصب SQL Server Management Studio (SSMS), مراحل زیر را انجام دهید:

1.**دانلود SSMS:** به مرکز دانلود رسمی مایکروسافت بروید و «SQL Server Management Studio» را جستجو کنید. نسخه ای را انتخاب کنید که با سیستم و نیازهای شما سازگار باشد. یا برای دانلود از یک وب سایت فارسی از این [لینک](https://soft98.ir/software/programming/3594-%D9%85%D8%A7%DB%8C%DA%A9%D8%B1%D9%88%D8%B3%D8%A7%D9%81%D9%80%D8%AA-%D8%A7%D8%B3-%DA%A9%DB%8C%D9%88-%D8%A7%D9%84-%D8%B3%D8%B1%D9%88%D8%B1.html) استفاده کنید.

2.**اجرای نصب کننده:** پس از اتمام دانلود، فایل اجرایی نصب را اجرا کنید. شما را در مراحل نصب راهنمایی می کند. ![اجرای نصب کننده](https://github.com/cc-Mehdi/SSMS-Guide/assets/57840939/d130a7ad-d7ff-4b05-8aba-1e6173c8f181)

3.**پایان:** پس از اتمام نصب، یک پیام تأیید دریافت خواهید کرد. اکنون می توانید SQL Server Management Studio را از منوی استارت یا میانبر دسکتاپ خود راه اندازی کنید. ![پایان](https://github.com/cc-Mehdi/SSMS-Guide/assets/57840939/b8547d43-2cc0-48d1-8fd7-2d2e5b3924b8)


به یاد داشته باشید که فرآیند نصب ممکن است بسته به نسخه خاص SSMS و پیکربندی سیستم شما کمی متفاوت باشد. برای هر گونه جزئیات خاص یا عیب یابی، با اسناد رسمی یا راهنمای نصب مشورت کنید.

## نمای کلی رابط

نرم افزار SQL Server Management Studio (SSMS) یک رابط جامع برای مدیریت و تعامل با پایگاه داده های SQL Server ارائه می دهد. در اینجا مروری بر اجزای اصلی و ویژگی های آن است:

1.**بخش Object Explorer**: این پنل سمت چپ SSMS است که در آن می توانید در سلسله مراتب اشیاء پایگاه داده پیمایش کنید. می توانید به نمونه های پایگاه داده، پایگاه های داده، جداول، نماها، رویه های ذخیره شده و موارد دیگر متصل شوید.

![Object Explorer](https://github.com/cc-Mehdi/SSMS-Guide/assets/57840939/ae54610c-f341-435b-9935-5b89229946ba)

2.**ویرایشگر پرس و جو**: ویرایشگر پرس و جو جایی است که شما پرس و جوهای SQL را در پایگاه داده خود می نویسید و اجرا می کنید. ویژگی هایی مانند برجسته کردن نحو، IntelliSense (تکمیل خودکار برای دستورات SQL) و اجرای پرس و جو را فراهم می کند.

3.**نوار ابزار**: نوار ابزار شامل ابزارها و گزینه های مختلفی برای مدیریت و تعامل با پایگاه های داده است. این شامل دکمه هایی برای باز کردن پنجره های پرس و جو جدید، اجرای پرس و جوها، ذخیره اسکریپت ها و موارد دیگر است.

![Toolbar](https://github.com/cc-Mehdi/SSMS-Guide/assets/57840939/efd97d39-3e2b-409d-b470-cee1890956ff)

4.**پنجره نتایج**: هنگامی که یک پرس و جو را اجرا می کنید، نتایج در صفحه نتایج نمایش داده می شود. این صفحه نمایش های جدولی از خروجی پرس و جو را ارائه می دهد که می توانند مرتب شوند، فیلتر شوند و صادر شوند.

![Results Pane](https://github.com/cc-Mehdi/SSMS-Guide/assets/57840939/2133a0a3-9490-4a9c-9248-14a0f15bb46c)

5.**اسکریپت شی**: می توانید اسکریپت هایی را برای اشیاء پایگاه داده مختلف با استفاده از SSMS تولید کنید. روی یک شی در Object Explorer کلیک راست کنید تا آن را اسکریپت کنید. این برای کارهایی مانند ایجاد پشتیبان یا اعمال تغییرات در پایگاه داده دیگر مفید است.

6.**نظارت بر فعالیت**: این ویژگی بینش هایی را در مورد فعالیت فعلی در نمونه SQL Server ارائه می دهد. شما می توانید فرآیندها، استفاده از منابع و قفل ها را برای شناسایی گلوگاه های عملکرد نظارت کنید.

7.**سرورهای ثبت شده**: SSMS به شما امکان می دهد چندین نمونه SQL Server را برای مدیریت آسان ثبت کنید. می توانید آنها را گروه بندی کنید و بدون وارد کردن مجدد جزئیات اتصال، به سرعت به آنها متصل شوید.

8.**کاوشگر الگو**: کاوشگر الگو قالب های اسکریپت از پیش ساخته شده را برای کارهای مختلف مانند ایجاد جداول، نماها، رویه های ذخیره شده و موارد دیگر ارائه می دهد. این قالب ها می توانند در زمان صرفه جویی کنند و از ثبات اطمینان حاصل کنند.

9.**کاوشگر راه حل**: اگر با پروژه های SQL Server Data Tools (SSDT) ​​کار می کنید، Solution Explorer به مدیریت پروژه های پایگاه داده، اسکریپت ها و فایل های مرتبط کمک می کند.

10.**ویژگی های شی**: هنگامی که یک شی پایگاه داده را در Object Explorer انتخاب می کنید، ویژگی های آن را می توان در پنجره Properties مشاهده و اصلاح کرد. این برای پیکربندی اشیا یا بازیابی اطلاعات مربوط به آنها مفید است.

11.**گزینه های SSMS**: می توانید تنظیمات مختلف SSMS را از طریق گفتگوی گزینه ها پیکربندی کنید. این شامل تنظیمات مربوط به ظاهر، رفتار، اجرای پرس و جو و موارد دیگر است.

12.**گزینه های اسکریپت نویسی و اجرا**: هنگام نوشتن و اجرای پرس و جوها، SSMS گزینه هایی را برای کنترل نحوه اجرای پرس و جوها، بازگرداندن نتایج به صورت متن یا شبکه و موارد دیگر ارائه می دهد.

اینها تنها برخی از اجزای کلیدی رابط SQL Server Management Studio هستند. بسته به وظایف و الزامات خود، ممکن است از بخش های مختلف رابط برای مدیریت پایگاه داده ها، نوشتن پرس و جو، نظارت بر عملکرد و انجام وظایف مختلف مرتبط با پایگاه داده استفاده کنید.


## اتصال به پایگاه های داده

1.**نرم افزارSSMS را اجرا کنید:** SQL Server Management Studio را از منوی استارت یا میانبر دسکتاپ باز کنید.

2.**اتصال به سرور:** در پنجره "اتصال به سرور" که ظاهر می شود، باید نام سرور و روش احراز هویت را مشخص کنید:
* نوع سرور: نوع سرور مناسب را از منوی بازشو انتخاب کنید. گزینه های رایج عبارتند از "Database Engine" برای پایگاه های داده استاندارد، "Analysis Services" برای پایگاه های داده OLAP، و موارد دیگر.
* نام سرور: نام سروری را که می خواهید به آن متصل شوید وارد کنید. این می تواند یک نام نمونه، آدرس IP، یا یک نمونه با نام (به عنوان مثال، "localhost" یا "MyServer\InstanceName") باشد.
* احراز هویت: روش احراز هویت مناسب را انتخاب کنید. شما می توانید بین احراز هویت ویندوز (با استفاده از اعتبار کاربری ویندوز خود) یا احراز هویت SQL Server (نام کاربری و رمز عبور) یکی را انتخاب کنید.

![image](https://github.com/cc-Mehdi/SSMS-Guide/assets/57840939/7930f204-16f6-423a-8407-5062b6b6db60)

3.   **روش احراز هویت:**
*  احراز هویت ویندوز: اگر Windows Authentication را انتخاب کنید، SSMS سعی می کند با استفاده از اطلاعات کاربری فعلی ویندوز شما متصل شود. مطمئن شوید که مجوزهای لازم برای دسترسی به سرور و پایگاه داده را دارید.
 
![image](https://github.com/cc-Mehdi/SSMS-Guide/assets/57840939/28de3f20-e524-4276-9729-3c7792a58f17)

*  نرم افزار SQL Server Authentication: اگر احراز هویت SQL Server را انتخاب کنید، باید یک نام کاربری و رمز عبور معتبر ارائه دهید. این زمانی مفید است که به سروری متصل می شوید که برای استفاده از احراز هویت SQL Server تنظیم شده است.

![image](https://github.com/cc-Mehdi/SSMS-Guide/assets/57840939/7930f204-16f6-423a-8407-5062b6b6db60)


4.**گزینه های اتصال اضافی:** بسته به روش احراز هویت و نوع سرور، ممکن است گزینه های دیگری برای پیکربندی داشته باشید، مانند انتخاب پایگاه داده، نام برنامه، و زمان اتصال.

5.**اتصال:** پس از وارد کردن اطلاعات مورد نیاز، روی دکمه "اتصال" کلیک کنید. SSMS سعی می کند با استفاده از اعتبارنامه های ارائه شده به سرور مشخص شده ارتباط برقرار کند.
   
6.**متصل:** هنگامی که اتصال با موفقیت انجام شد، پانل Object Explorer را در سمت چپ پنجره SSMS خواهید دید. این پنل پایگاه داده، امنیت و سایر اجزای سرور را نمایش می دهد. اکنون می توانید با پایگاه داده ها تعامل داشته باشید، پرس و جوها را اجرا کنید و کارهای مختلف را با استفاده از SSMS انجام دهید.

به یاد داشته باشید که مراحل خاص ممکن است بر اساس نسخه SSMS شما و نمونه SQL Server که به آن وصل می شوید کمی متفاوت باشد. اگر با مشکلات اتصال مواجه شدید، نام سرور، روش احراز هویت و اعتبارنامه خود را دوباره بررسی کنید. اگر به یک سرور راه دور متصل می شوید، مطمئن شوید که تنظیمات شبکه و فایروال لازم برای امکان اتصال وجود دارد.


## مدیریت پایگاه داده

نرم افزار SSMS مجموعه جامعی از ابزارها را به مدیران پایگاه داده، توسعه دهندگان و کاربران برای مدیریت کارآمد کل چرخه حیات پایگاه داده ارائه می دهد.

ویژگی های کلیدی مدیریت پایگاه داده در SSMS:

1.**بخش Object Explorer:** نرم افزار SSMS یک Object Explorer ارائه می دهد که نمای درختی از تمام اجزای موجود در یک نمونه SQL Server ارائه می دهد. این شامل پایگاه های داده، جداول، نماها، رویه های ذخیره شده، توابع و موارد دیگر می شود. این به شما اجازه می دهد تا به راحتی اشیاء پایگاه داده را هدایت و مدیریت کنید.

2.**ویرایشگر Query:** ویرایشگر Query در SSMS شما را قادر می سازد تا پرس و جوهای Transact-SQL (T-SQL) را در پایگاه داده خود بنویسید و اجرا کنید. همچنین می توانید پرس و جوهای خود را ذخیره و سازماندهی کنید تا برای استفاده مکرر راحت باشد.

3.**ابزارهای طراحی:** SSMS شامل ابزارهای طراحی است که به شما امکان می دهد به صورت بصری اشیاء پایگاه داده مانند جداول، نماها و رویه های ذخیره شده را ایجاد و تغییر دهید. این ابزارها به ساده‌سازی فرآیند توسعه و کاهش نیاز به نوشتن دستی عبارات پیچیده T-SQL کمک می‌کنند.

4.**پشتیبان‌گیری و بازیابی پایگاه داده:** با SSMS، می‌توانید برای محافظت از داده‌های خود پشتیبان‌گیری و بازیابی پایگاه داده انجام دهید. می‌توانید نسخه‌های پشتیبان کامل، دیفرانسیل و گزارش تراکنش ایجاد کنید و پایگاه‌های داده را در یک نقطه زمانی خاص بازیابی کنید.

5.**بهینه سازی عملکرد پرس و جو:** SSMS ابزارهایی را برای تجزیه و تحلیل عملکرد پرس و جو و شناسایی تنگناها فراهم می کند. می توانید از ابزارهایی مانند Query Store و برنامه های اجرایی برای بهینه سازی عملکرد پرس و جو برای پاسخگویی بهتر پایگاه داده استفاده کنید.

6.**مدیریت امنیت:** شما می توانید امنیت را با اعطای مجوز به کاربران، نقش ها و ورود به سیستم مدیریت کنید. SSMS به شما امکان می دهد دسترسی به اشیاء پایگاه داده را کنترل کنید و سیاست های امنیتی را تعریف کنید.

7.**برنامه های نگهداری:** SSMS شما را قادر می سازد تا برنامه های تعمیر و نگهداری را برای خودکارسازی وظایفی مانند پشتیبان گیری از پایگاه داده، نگهداری فهرست و به روز رسانی آمار تنظیم کنید.

8.**خدمات یکپارچه سازی:** SSMS با سرویس های یکپارچه سازی سرور SQL (SSIS) یکپارچه می شود و به شما امکان می دهد بسته های ETL (Extract, Transform, Load) را برای یکپارچه سازی داده ها طراحی، استقرار و مدیریت کنید.

9.**خدمات گزارش دهی:** می توانید گزارش های سرویس گزارش دهی سرور SQL (SSRS) را با استفاده از SSMS مدیریت و اجرا کنید.

10.**گروه‌های در دسترس همیشه روشن:** برای دسترسی بالا و بازیابی فاجعه، SSMS به شما امکان می دهد AlwaysOn Availability Groups را پیکربندی و مدیریت کنید، که قابلیت انعکاس پایگاه داده و Failover را ارائه می دهد.

11.**نظارت بر پایگاه داده:** SSMS ابزارهایی را برای نظارت بر سلامت و عملکرد پایگاه داده شما ارائه می دهد. می توانید میزان مصرف منابع، جلسات فعال و سایر معیارها را ردیابی کنید.

12.**اسکریپت نویسی:** SSMS به شما امکان می دهد اسکریپت هایی را برای اشیاء پایگاه داده تولید کنید و بازسازی ساختار پایگاه داده یا اشیاء را در محیطی دیگر آسان می کند.

چه مدیر پایگاه داده ای باشید که مسئول نگهداری پایگاه داده های بزرگ هستید یا توسعه دهنده ای که بر روی وظایف مرتبط با پایگاه داده کار می کند، SSMS مجموعه ای جامع از ابزارها را برای ساده کردن وظایف مدیریت پایگاه داده، بهینه سازی عملکرد و اطمینان از قابلیت اطمینان و امنیت پایگاه داده های SQL Server شما ارائه می دهد.

## کوئری و اسکریپت نویسی

**کوئری نویسی:**

فرض کنید یک پایگاه داده به نام "SampleDB" و یک جدول به نام "Employees" با ستون های "EmployeeID"، "FirstName" و "LastName" دارید. برای بازیابی همه نام‌های کارکنان از جدول، می‌توانید کوئری زیر را در SSMS اجرا کنید:


``` 
USE SampleDB;
SELECT FirstName, LastName FROM Employees;
```

**اسکریپت نویسی:**

شما همچنین می توانید اسکریپت هایی را برای اشیاء پایگاه داده مانند جداول، رویه های ذخیره شده و موارد دیگر تولید کنید. در اینجا نحوه اسکریپت ایجاد جدول آمده است:

1. روی پوشه "Tables" در Object Explorer کلیک راست کنید.
2. انتخاب کنید `"Script Table as" > "CREATE To" > "New Query Editor Window."`
3. این یک اسکریپت ایجاد می کند که جدول را ایجاد می کند. در صورت نیاز می توانید این اسکریپت را تغییر دهید.

برای اسکریپت رویه های ذخیره شده، این مراحل را دنبال کنید:

1. روی پوشه "Stored Procedures" در Object Explorer کلیک راست کنید.
2. انتخاب کنید `"Script Stored Procedure as" > "CREATE To" > "New Query Editor Window."`
3. این کد ایجاد رویه ذخیره شده را اسکریپت می کند.

به یاد داشته باشید که اینها نمونه های اولیه هستند و برنامه نویسی SQL بسته به نیاز شما می تواند بسیار پیچیده تر شود. از Object Explorer و Query Editor در SSMS برای کاوش و تعامل با اشیاء پایگاه داده خود از طریق پرس و جو و اسکریپت استفاده کنید.


## بهینه سازی کوئری

بهینه سازی پرس و جو در SQL Server Management Studio (SSMS) شامل بهبود عملکرد پرس و جوهای SQL شما برای اطمینان از اجرای کارآمد آنها است. در اینجا چند مرحله وجود دارد که می توانید دنبال کنید:

1. **درک پرس و جو:** قبل از بهینه سازی، هدف پرس و جو، جداول مربوطه و نتایج مورد انتظار را به طور کامل درک کنید. از ویژگی طرح اجرای SQL Server برای تجزیه و تحلیل فرآیند اجرای پرس و جو استفاده کنید.
2. **نمایه سازی:** نمایه سازی مناسب می تواند عملکرد پرس و جو را به میزان قابل توجهی بهبود بخشد. ستون های مورد استفاده در بندهای WHERE، شرایط JOIN و بندهای ORDER BY را شناسایی کنید و نمایه های مناسب را روی آن ستون ها ایجاد کنید.
3. **از EXPLAIN Plans استفاده کنید:** از گزینه های «نمایش برنامه اجرای تخمینی» یا «شامل طرح اجرای واقعی» در SSMS استفاده کنید. این طرح ها بینش هایی را در مورد نحوه اجرای پرس و جو توسط SQL Server ارائه می دهند و به شناسایی تنگناها کمک می کنند.
4. **اجتناب از استفاده از SELECT:** به جای انتخاب تمام ستون ها با ""، فقط ستون های مورد نیاز خود را مشخص کنید. این امر باعث کاهش حجم داده های منتقل شده و پردازش شده می شود.
5. **عاقلانه از بندهای WHERE استفاده کنید:** اطمینان حاصل کنید که بندهای WHERE قابل تغییر هستند (می توانند از شاخص ها استفاده کنند). از اعمال توابع یا تبدیل به ستون ها در بندهای WHERE خودداری کنید، زیرا می تواند از استفاده از فهرست جلوگیری کند.
6. **بهینه سازی JOIN:** از انواع مناسب JOIN (INNER، LEFT و غیره) استفاده کنید. اطمینان حاصل کنید که شرایط JOIN بر اساس ستون های نمایه شده است. از شاخص های پوششی برای شرایط JOIN ترکیبی استفاده کنید.
7. **اجتناب از نشانگرها:** در صورت امکان، از استفاده از مکان نما خودداری کنید، زیرا آنها عملکرد فشرده ای دارند. به جای آن از عملیات مبتنی بر مجموعه استفاده کنید.
8. **به حداقل رساندن سؤالات فرعی:** سؤالات فرعی مرتبط را با JOIN یا جداول مشتق شده جایگزین کنید. این می تواند از اجرای چندگانه پرس و جو جلوگیری کند.
9. **از جداول موقت یا متغیرهای جدول استفاده کنید:** برای پرس و جوهای پیچیده، آنها را با استفاده از جداول موقت یا متغیرهای جدول به قسمت های کوچکتر تقسیم کنید. این می تواند به بهینه سازی و ساده سازی پرس و جو کلی کمک کند.
10. **اجتناب از DISTINCT:** از DISTINCT کم استفاده کنید. در صورت امکان، سعی کنید پرس و جو را بازنویسی کنید تا بدون استفاده از DISTINCT به همان نتایج برسید، زیرا می تواند بر عملکرد تأثیر بگذارد.
11. **از UNION ALL استفاده کنید:** اگر می‌خواهید مجموعه‌های نتیجه را از چندین کوئری ترکیب کنید، به جای UNION از UNION ALL استفاده کنید. UNION ALL موارد تکراری را حذف نمی کند، که می تواند عملکرد را بهبود بخشد.
12. **اجتناب از توابع:** توابع اعمال شده بر روی ستون ها در بندهای SELECT می توانند از استفاده از فهرست جلوگیری کنند. استفاده از توابع را به حداقل برسانید، به خصوص در بندهای WHERE.
13. **به روز رسانی آمار:** به طور منظم آمار را در جداول و نمایه ها به روز کنید تا به بهینه ساز پرس و جو در تصمیم گیری بهتر کمک کنید.
14. **عملیات دسته‌ای:** درج‌ها، به‌روزرسانی‌ها یا حذف‌های انبوه را با استفاده از عملیات دسته‌ای انجام دهید تا سربار بیانیه‌های فردی را کاهش دهید.
15. **تست:** پرس و جوهای بهینه شده خود را به طور کامل با سناریوهای داده های مختلف آزمایش کنید تا مطمئن شوید که در موقعیت های مختلف عملکرد خوبی دارند.

به یاد داشته باشید که بهینه سازی پرس و جو یک فرآیند تکراری است. به طور مداوم بر عملکرد پرس و جو نظارت کنید و استراتژی های بهینه سازی خود را در صورت نیاز تطبیق دهید.

## پشتیبان گیری و بازیابی

پشتیبانی :

1. **اتصال به پایگاه داده:** SSMS را باز کنید و به نمونه SQL Server که در آن پایگاه داده ای که می خواهید نسخه پشتیبان تهیه کنید، متصل شوید.
2. **بخش Object Explorer:** در Object Explorer، گره "Databases" را برای مشاهده لیست پایگاه های داده گسترش دهید.
3. **پایگاه داده با کلیک راست:** روی پایگاه داده ای که می خواهید از آن نسخه پشتیبان تهیه کنید کلیک راست کرده و سپس از منوی زمینه، «Tasks» > «Back Up...» را انتخاب کنید.
   
![image](https://github.com/cc-Mehdi/SSMS-Guide/assets/57840939/5fd9b7d9-f663-4718-9740-e501e5ed6eb2)

4. **پنجره Backup Database:** در پنجره "Backup Database" می توانید نوع پشتیبان گیری، مقصد و گزینه های دیگر را مشخص کنید.

![image](https://github.com/cc-Mehdi/SSMS-Guide/assets/57840939/89b01134-acdf-4d2a-860a-bfd9ea72ac0d)

5. **نوع پشتیبان:** نوع پشتیبان (کامل، دیفرانسیل، گزارش تراکنش و غیره) را بر اساس نیاز خود انتخاب کنید.
6. **مقصد:** مقصد فایل پشتیبان را مشخص کنید. می توانید انتخاب کنید که یک نسخه پشتیبان روی دیسک، نوار یا URL ایجاد کنید.
7. **گزینه ها:** هر گونه گزینه اضافی مانند فشرده سازی، مجموعه های پشتیبان، و انقضا را پیکربندی کنید.
8. **گزینه های رسانه:** گزینه های رسانه مانند نام فایل پشتیبان و اینکه آیا به مجموعه پشتیبان موجود اضافه شود یا یک مجموعه جدید ایجاد شود را تنظیم کنید.
9. **پشتیبان گیری:** روی دکمه "OK" کلیک کنید تا فرآیند پشتیبان گیری شروع شود. یک پنجره پیشرفت وضعیت پشتیبان گیری را نشان می دهد.

**بازگرداندن:**

1. **اتصال به پایگاه داده:** SSMS را باز کنید و به نمونه SQL Server که می خواهید پایگاه داده را بازیابی کنید متصل شوید.
2. **بخش Object Explorer:** در Object Explorer، گره "Databases" را برای مشاهده لیست پایگاه های داده گسترش دهید.
3. **پایگاه‌های داده با کلیک راست:** روی گره «پایگاه‌های داده» کلیک راست کرده و سپس «بازیابی پایگاه داده...» را از منوی زمینه انتخاب کنید.
4. **عمومی:** در پنجره "بازیابی پایگاه داده"، گزینه "از دستگاه" را در قسمت "منبع برای بازیابی" انتخاب کنید.
5. **جستجو برای فایل پشتیبان:** برای جستجوی فایل پشتیبان مورد نظر برای بازیابی، روی دکمه "..." کلیک کنید.
6. **گزینه های بازیابی:** مجموعه پشتیبان مورد نظر برای بازیابی را انتخاب کنید و گزینه های بازیابی مناسب را انتخاب کنید (بازنویسی، رها کردن پایگاه داده در حالت بازیابی و غیره).
7. **فایل ها:** در قسمت “Files” می توانید مقصد فایل های داده و گزارش را مشخص کنید.
8. **گزینه ها:** گزینه های بازیابی اضافی مانند وضعیت بازیابی، جابجایی فایل ها و موارد دیگر را پیکربندی کنید.
9. **بازیابی:** برای شروع فرآیند بازیابی، روی دکمه "OK" کلیک کنید. یک پنجره پیشرفت وضعیت بازیابی را نشان می دهد.


## مدیریت امنیت

مدیریت امنیت در SSMS شامل وظایفی مانند راه اندازی حساب های کاربری، مجوزها و مدیریت دسترسی به پایگاه های داده است. در اینجا چند مرحله وجود دارد که ممکن است بردارید:

1. **ورود به سیستم:** SSMS را باز کنید و به نمونه SQL Server که می خواهید مدیریت کنید وارد شوید.
2. **ایجاد Logins:** در پوشه "Security" در Object Explorer، می توانید لاگین ایجاد کنید. اینها اعتبارنامه هایی هستند که به کاربران یا برنامه های کاربردی اجازه می دهند به SQL Server متصل شوند.
3. **بخش Create Users:** پس از ایجاد لاگین، باید کاربرانی را در پایگاه داده های خاص ایجاد کنید. کاربران برای ورود به سیستم نقشه برداری می شوند و در پایگاه های داده مجوز دارند.
4. **تعیین نقش:** SQL Server نقش‌های داخلی مختلفی را ارائه می‌کند (به عنوان مثال، db_owner، db_datareader، db_datawriter) که مجموعه‌های خاصی از مجوزها را تعریف می‌کنند. نقش های مناسب را به کاربران اختصاص دهید تا دسترسی های لازم را فراهم کنند.
5. **بخش Set Object Permissions:** می توانید کنترل کنید که کدام کاربران به جداول، نماها، رویه ها و سایر اشیاء پایگاه داده خاص دسترسی داشته باشند. از پنجره "Properties" یک شی برای پیکربندی مجوزها استفاده کنید.
6. **ایجاد نقش های سفارشی:** اگر نقش های داخلی با نیازهای شما مطابقت ندارند، می توانید نقش های سفارشی را با مجوزهای خاص ایجاد کنید و کاربران را به این نقش ها اختصاص دهید.
7. **گزینه های امنیت پایگاه داده:** از ویژگی های امنیتی در سطح پایگاه داده مانند رمزگذاری، ممیزی و امنیت در سطح ردیف برای افزایش حفاظت از داده ها استفاده کنید.
8. **امنیت در سطح سرور:** گزینه های امنیتی در سطح سرور مانند سیاست های ورود، خط مشی های رمز عبور و ممیزی را برای تقویت امنیت کلی پیکربندی کنید.
9. **ممیزی های منظم:** به طور مرتب مجوزها و دسترسی ها را بررسی کنید تا مطمئن شوید که با خط مشی های امنیتی سازمان شما مطابقت دارند.
10. **پشتیبان گیری و بازیابی:** به طور منظم از پایگاه داده خود نسخه پشتیبان تهیه کنید و نسخه های پشتیبان را در مکان های امن نگه دارید. این به سناریوهای بازیابی فاجعه کمک می کند.
11. **بخش Implement Data Masking:** در صورت لزوم، پوشش داده را برای محافظت از داده های حساس با نمایش داده های تغییر یافته برای کاربران بدون حقوق دسترسی، پیاده سازی کنید.
12. **نظارت و هشدار:** نظارت و هشدار را تنظیم کنید تا از هرگونه فعالیت مشکوک یا نقض امنیتی مطلع شوید.

به یاد داشته باشید که مدیریت امنیت یک جنبه پیچیده و حیاتی مدیریت پایگاه داده است. پیروی از بهترین شیوه‌ها، به‌روزرسانی منظم اقدامات امنیتی و اطلاع‌رسانی در مورد آسیب‌پذیری‌ها و وصله‌های بالقوه برای نمونه SQL Server بسیار مهم است. همیشه به اسناد رسمی مراجعه کنید و در صورت نیاز با کارشناسان امنیتی مشورت کنید.

## تعمیر و نگهداری و نظارت

تعمیر و نگهداری و نظارت وظایف ضروری در استودیوی مدیریت سرور SQL (SSMS) برای اطمینان از عملکرد و پایداری بهینه نمونه های SQL Server شما هستند. در اینجا یک مرور مختصر از وظایف نگهداری و نظارت که می توانید در SSMS انجام دهید آورده شده است:

**نگهداری:**

1. **پشتیبان گیری و بازیابی:** پشتیبان گیری منظم از پایگاه داده خود را برای اطمینان از بازیابی اطلاعات در صورت خرابی برنامه ریزی کنید. شما می توانید برنامه های پشتیبان ایجاد کنید، پشتیبان گیری را برنامه ریزی کنید و با استفاده از SSMS بازیابی انجام دهید.
2. **نگهداری شاخص:** به طور منظم فهرست ها را تجزیه و تحلیل و بازسازی/سازماندهی مجدد کنید تا عملکرد پرس و جو را بهینه کنید. گزینه "Indexing and Statistics" در SSMS ابزارهایی برای مدیریت نمایه ها ارائه می دهد.
3. **به روز رسانی آمار:** آمار را به روز نگه دارید تا به بهینه ساز پرس و جو کمک کنید تا برنامه های اجرایی کارآمدی داشته باشد. می توانید به صورت دستی آمار را به روز کنید یا کارهای خودکار را برای این کار تنظیم کنید.
4. **پاکسازی داده ها:** برای آزاد کردن فضای ذخیره سازی و بهبود عملکرد پرس و جو، داده های غیر ضروری، سوابق قدیمی و داده های موقت را حذف کنید.

**نظارت بر:**
1. نظارت بر فعالیت : از Activity Monitor داخلی در SSMS برای مشاهده اطلاعات بلادرنگ درباره فعالیت فعلی در نمونه SQL Server خود استفاده کنید. می توانید فرآیندهای فعال، استفاده از منابع و اطلاعات قفل را مشاهده کنید.
2. نمایه SQL Server : رویدادها، پرس و جوها و معیارهای عملکرد SQL Server را با استفاده از SQL Server Profiler ضبط و تجزیه و تحلیل کنید. این ابزار به شما کمک می کند تا گلوگاه های عملکرد را شناسایی کرده و مشکلات را عیب یابی کنید.
3. نماهای مدیریت پویا (DMVs): این نماها بینشی در مورد معیارهای عملکرد داخلی و رفتار SQL Server ارائه می دهند. برای جمع‌آوری اطلاعات در مورد اجرای پرس و جو، استفاده از منابع و موارد دیگر، می‌توانید از DMV پرس و جو کنید.


## یکپارچه سازی با کنترل منبع
## برنامه های افزودنی و سفارشی سازی
## نکات و ترفندها





